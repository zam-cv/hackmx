import{j as e}from"./jsx-runtime.B6N9iRLn.js";import{r as a}from"./index.DNi1g-pO.js";import{I as t}from"./Input.B7MCSZ51.js";import{B as M}from"./Button.BI9RPgp0.js";import I from"./Semester.DMWwG-it.js";import k from"./Campus.TkeWCPws.js";import A from"./Majors.BeChhz4B.js";import{a as K}from"./api.DSv2L0Mn.js";import{h as o,a as B}from"./index.DS6nHFjH.js";import"./select.xu0dWH6o.js";import"./index.DDEQXXIH.js";import"./check.D66-KWCr.js";import"./Combination.DwtV1lt9.js";import"./index.MkY1K082.js";import"./utils.tCEEUih2.js";function l(n){return e.jsx("label",{...n,className:"text-p-secondary-text text-sm pr-1",children:n.children})}function ee(){const n=a.useRef(null),x=a.useRef(null),h=a.useRef(null),p=a.useRef(null),f=a.useRef(null),[u,j]=a.useState(""),[g,v]=a.useState(""),[N,i]=a.useState(""),[w,y]=a.useState(""),[c,_]=a.useState(""),[C,S]=a.useState(""),[V,F]=a.useState(1),[d,R]=a.useState("__none"),[m,b]=a.useState("__none"),[E,P]=a.useState("");a.useEffect(()=>{K.user.get().then(s=>{j(s.username),v(s.firstname),_(s.personal_email),S(s.phone),F(s.semester),R(s.campus??"__none"),b(s.major??"__none");const r=s.lastname.split(" ");r.length===1&&i(r[0]),r.length===2&&(i(r[0]),y(r[1]))})},[]);function D(){const s={username:u,firstname:g,lastname:`${N} ${w}`,personal_email:c,phone:C,semester:V,email:c,password:E};d!=="__none"&&(s.campus=d),m!=="__none"&&(s.major=m),E.length>0&&P(""),K.user.update(s)}return e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"flex flex-col gap-5 max-md:container w-[800px] p-7",children:e.jsxs("div",{className:"flex flex-col gap-10 bg-p-secondary-background p-10 rounded-md",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Editar Perfil"}),e.jsxs("div",{className:"flex flex-col gap-7",children:[e.jsxs("div",{className:"grid gap-5 w-full sm:grid-cols-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"username",children:"Nombre de Usuario"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"username",type:"text",defaultValue:u,onKeyDown:s=>o(s,n),onChange:s=>j(s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"firstname",children:"Nombre"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{ref:n,id:"firstname",type:"text",defaultValue:g,onKeyDown:s=>o(s,x),onChange:s=>v(s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"lastname",children:"Apellido Paterno"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{ref:x,id:"lastname",type:"text",defaultValue:N,onKeyDown:s=>o(s,h),onChange:s=>i(s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"motherlastname",children:"Apellido Materno"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{ref:h,id:"motherlastname",type:"text",defaultValue:w,onKeyDown:s=>o(s,p),onChange:s=>y(s.target.value)})]})]}),e.jsxs("div",{className:"grid gap-5 w-full sm:grid-cols-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",children:"Correo Personal"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{ref:p,id:"email",type:"email",placeholder:"m@example.com",defaultValue:c,onKeyDown:s=>o(s,f),onChange:s=>_(s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"phone",children:"Número Telefónico"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{ref:f,id:"phone",type:"text",placeholder:"+52 55 1234 5678",defaultValue:C,onChange:s=>S(s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"semester",children:"Semestre"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(I,{defaultValue:V.toString(),onChangeValue:s=>F(parseInt(s))})]})]}),e.jsxs("div",{className:"grid gap-5 w-full grid-cols-7 -mb-4",children:[e.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"campus",children:"Campus"}),e.jsx("span",{})]}),e.jsx(k,{defaultValue:d??"__none",onChangeValue:R})]}),e.jsxs("div",{className:"flex flex-col gap-2 col-span-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"major",children:"Carrera"}),e.jsx("span",{})]}),e.jsx(A,{defaultValue:m??"__none",onChangeValue:b})]}),e.jsxs("div",{className:"flex flex-col gap-1 col-span-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"password",type:"password",placeholder:"•••••••••••",onKeyDown:s=>B(s,D),onChange:s=>P(s.target.value)})]}),e.jsx("p",{className:"text-xs text-p-secondary-text text-right",children:"minimo ocho caracteres"})]})]})]}),e.jsx(M,{id:"register",onClick:D,children:"Guardar cambios"})]})})})}export{ee as default};
